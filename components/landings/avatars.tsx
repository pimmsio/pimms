import Image from "next/image";
import { ReactNode } from "react";
import { useTranslations } from "next-intl";
import { BlurFade } from "@/components/magicui/blur-fade";

interface AvatarsProps {
  children?: ReactNode;
}

export const Avatars = ({ children }: AvatarsProps) => {
  // Always use home avatars since they're shared across all landing pages
  const t = useTranslations("landing.hero");

  // Get avatars from translations
  const avatars = [
    {
      name: t("avatars.avatar1.name"),
      image: t("avatars.avatar1.image")
    },
    {
      name: t("avatars.avatar2.name"),
      image: t("avatars.avatar2.image")
    },
    {
      name: t("avatars.avatar3.name"),
      image: t("avatars.avatar3.image")
    },
    {
      name: t("avatars.avatar4.name"),
      image: t("avatars.avatar4.image")
    },
    {
      name: t("avatars.avatar5.name"),
      image: t("avatars.avatar5.image")
    }
  ];

  return (
    <BlurFade
      direction="up"
      delay={0.2}
      inView={false}
      className="flex flex-col items-center justify-center gap-2 mt-10"
    >
      <li className="flex items-center gap-2 pt-2">
        <AvatarsLaurier direction="left" />
        <div className="flex flex-col items-center justify-center select-none cursor-default">
          <div className="flex -space-x-2 overflow-hidden">
            {avatars.map((avatar, index) => (
              <div
                key={index}
                className="relative w-8 h-8 rounded-full border-2 border-white overflow-hidden"
                style={{ zIndex: avatars.length - index }}
              >
                <Image src={avatar.image} alt={avatar.name} fill className="object-cover" sizes="32px" />
              </div>
            ))}
          </div>
        </div>
        <AvatarsLaurier direction="right" />
      </li>
      {children && <div className="text-sm text-[#5C5B61] font-medium">{children}</div>}
    </BlurFade>
  );
};

export const AvatarsLaurier = ({ direction }: { direction: "left" | "right" }) => {
  return (
    <svg
      width="18"
      height="36"
      viewBox="0 0 18 36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={direction === "right" ? "scale-x-[-1]" : ""}
    >
      <path
        d="M12.3965 33.4453C12.8887 33.4922 13.3867 33.6211 13.8906 33.832C14.3945 34.0547 14.8164 34.3242 15.1562 34.6406C15.332 34.8281 15.3262 34.998 15.1387 35.1504C14.752 35.4434 14.2949 35.6543 13.7676 35.7832C13.2402 35.9238 12.7246 35.9648 12.2207 35.9062C11.752 35.8711 11.2656 35.7422 10.7617 35.5195C10.2695 35.2969 9.84766 35.0156 9.49609 34.6758C9.26172 34.4648 9.28516 34.2773 9.56641 34.1133C9.95312 33.8789 10.4043 33.7031 10.9199 33.5859C11.4473 33.4688 11.9395 33.4219 12.3965 33.4453ZM15.9824 27.8379C16.1465 27.5566 16.334 27.5391 16.5449 27.7852C16.8496 28.1719 17.1074 28.623 17.3184 29.1387C17.5293 29.6426 17.6465 30.1172 17.6699 30.5625C17.7285 31.0664 17.6816 31.582 17.5293 32.1094C17.377 32.6367 17.1543 33.0879 16.8613 33.4629C16.709 33.6855 16.5449 33.6855 16.3691 33.4629C16.0645 33.0996 15.8066 32.666 15.5957 32.1621C15.3848 31.6582 15.2734 31.1719 15.2617 30.7031C15.2266 30.2812 15.2734 29.8066 15.4023 29.2793C15.543 28.752 15.7363 28.2715 15.9824 27.8379ZM7.7207 28.9805C8.1543 29.1211 8.58789 29.3672 9.02148 29.7188C9.45508 30.0586 9.80078 30.4277 10.0586 30.8262C10.1992 31.0371 10.1465 31.1953 9.90039 31.3008C9.4668 31.4766 8.97461 31.5586 8.42383 31.5469C7.87305 31.5469 7.36328 31.459 6.89453 31.2832C6.46094 31.1309 6.02734 30.8789 5.59375 30.5273C5.17188 30.1875 4.83203 29.8066 4.57422 29.3848C4.43359 29.127 4.48633 28.9629 4.73242 28.8926C5.16602 28.752 5.6582 28.6934 6.20898 28.7168C6.75977 28.7285 7.26367 28.8164 7.7207 28.9805ZM12.6074 24.4277C12.8301 24.2051 13 24.2461 13.1172 24.5508C13.3281 24.9844 13.4688 25.4707 13.5391 26.0098C13.6211 26.5488 13.6152 27.041 13.5215 27.4863C13.4395 27.9785 13.2578 28.4648 12.9766 28.9453C12.6953 29.4258 12.3672 29.8008 11.9922 30.0703C11.8047 30.2461 11.6465 30.2109 11.5176 29.9648C11.3066 29.5781 11.1719 29.1094 11.1133 28.5586C11.0547 28.0078 11.0781 27.4863 11.1836 26.9941C11.2656 26.5488 11.4355 26.0918 11.6934 25.623C11.9512 25.1426 12.2559 24.7441 12.6074 24.4277ZM0.970703 22.4062C0.923828 22.0898 1.05273 21.9551 1.35742 22.002C1.82617 22.084 2.30078 22.2422 2.78125 22.4766C3.26172 22.6992 3.66602 22.9688 3.99414 23.2852C4.32227 23.6016 4.61523 24 4.87305 24.4805C5.14258 24.9492 5.31836 25.4297 5.40039 25.9219C5.44727 26.1914 5.33008 26.3145 5.04883 26.291C4.58008 26.2676 4.09961 26.1504 3.60742 25.9395C3.12695 25.7285 2.71094 25.4473 2.35938 25.0957C2.01953 24.7559 1.7207 24.3398 1.46289 23.8477C1.2168 23.3555 1.05273 22.875 0.970703 22.4062ZM10.3047 21.123C10.6094 21.0059 10.7617 21.1113 10.7617 21.4395C10.7852 21.9082 10.7207 22.4062 10.5684 22.9336C10.416 23.4609 10.2051 23.9297 9.93555 24.3398C9.67773 24.75 9.32617 25.1133 8.88086 25.4297C8.43555 25.7344 7.97266 25.9453 7.49219 26.0625C7.23438 26.1211 7.09961 26.0215 7.08789 25.7637C7.06445 25.2715 7.12891 24.7676 7.28125 24.252C7.44531 23.7246 7.66797 23.2734 7.94922 22.8984C8.25391 22.5 8.61719 22.1367 9.03906 21.8086C9.47266 21.4805 9.89453 21.252 10.3047 21.123ZM7.59766 17.2031C7.96094 16.9102 8.38867 16.6641 8.88086 16.4648C9.38477 16.2539 9.87695 16.1309 10.3574 16.0957C10.6387 16.0957 10.7559 16.2363 10.709 16.5176C10.5918 16.9863 10.3867 17.4609 10.0938 17.9414C9.8125 18.4219 9.50195 18.8145 9.16211 19.1191C8.81055 19.4473 8.37695 19.7051 7.86133 19.8926C7.35742 20.0801 6.85938 20.1621 6.36719 20.1387C6.10938 20.1504 6.00977 20.0273 6.06836 19.7695C6.16211 19.3008 6.34961 18.832 6.63086 18.3633C6.92383 17.8945 7.24609 17.5078 7.59766 17.2031ZM1.00586 14.9355C1.0293 14.6426 1.18164 14.5547 1.46289 14.6719C1.87305 14.8359 2.2832 15.0938 2.69336 15.4453C3.11523 15.7852 3.45508 16.1602 3.71289 16.5703C3.98242 16.9922 4.17578 17.4727 4.29297 18.0117C4.41016 18.5391 4.43945 19.0254 4.38086 19.4707C4.3457 19.7285 4.20508 19.8223 3.95898 19.752C3.51367 19.623 3.08008 19.3887 2.6582 19.0488C2.23633 18.709 1.90234 18.3164 1.65625 17.8711C1.41016 17.4258 1.22266 16.9336 1.09375 16.3945C0.976562 15.8555 0.947266 15.3691 1.00586 14.9355ZM8.49414 11.6484C8.91602 11.4961 9.39648 11.4141 9.93555 11.4023C10.4746 11.3789 10.9609 11.4258 11.3945 11.543C11.6758 11.6484 11.7461 11.8184 11.6055 12.0527C11.3828 12.4395 11.0547 12.8086 10.6211 13.1602C10.1992 13.5117 9.74805 13.7871 9.26758 13.9863C8.82227 14.1738 8.32422 14.2676 7.77344 14.2676C7.22266 14.2676 6.72461 14.1797 6.2793 14.0039C6.0332 13.8984 5.98633 13.7402 6.13867 13.5293C6.38477 13.1309 6.71875 12.7617 7.14062 12.4219C7.57422 12.0703 8.02539 11.8125 8.49414 11.6484ZM3.02734 7.23633C3.14453 6.97852 3.32617 6.94336 3.57227 7.13086C3.91211 7.44727 4.21094 7.8457 4.46875 8.32617C4.72656 8.80664 4.9082 9.28125 5.01367 9.75C5.11914 10.1836 5.14258 10.6699 5.08398 11.209C5.02539 11.748 4.88477 12.2285 4.66211 12.6504C4.5332 12.9082 4.375 12.9492 4.1875 12.7734C3.80078 12.4922 3.46094 12.1172 3.16797 11.6484C2.88672 11.1797 2.71094 10.7109 2.64062 10.2422C2.54688 9.79688 2.5293 9.29883 2.58789 8.74805C2.6582 8.19727 2.80469 7.69336 3.02734 7.23633ZM11.4297 6.86719C11.8984 6.77344 12.4023 6.75586 12.9414 6.81445C13.4922 6.87305 13.9785 6.99023 14.4004 7.16602C14.6699 7.29492 14.7109 7.47656 14.5234 7.71094C14.2305 8.07422 13.8438 8.40234 13.3633 8.69531C12.8828 8.97656 12.3965 9.16992 11.9043 9.27539C11.4238 9.39258 10.9141 9.42188 10.375 9.36328C9.84766 9.29297 9.38477 9.12891 8.98633 8.87109C8.77539 8.73047 8.74609 8.56641 8.89844 8.37891C9.16797 8.03906 9.53711 7.73438 10.0059 7.46484C10.4746 7.18359 10.9492 6.98438 11.4297 6.86719ZM6.66602 1.7168C6.83008 1.48242 7.00586 1.47656 7.19336 1.69922C7.49805 2.0625 7.75 2.49609 7.94922 3C8.16016 3.50391 8.27734 3.99023 8.30078 4.45898C8.34766 4.89258 8.30078 5.37891 8.16016 5.91797C8.03125 6.44531 7.83789 6.91992 7.58008 7.3418C7.41602 7.56445 7.23438 7.58203 7.03516 7.39453C6.69531 7.03125 6.41992 6.59766 6.20898 6.09375C5.99805 5.57812 5.88672 5.08594 5.875 4.61719C5.83984 4.16016 5.89258 3.66797 6.0332 3.14062C6.18555 2.60156 6.39648 2.12695 6.66602 1.7168ZM15.0684 0.0996094C15.373 0.0527344 15.4961 0.181641 15.4375 0.486328C15.3672 0.966797 15.2148 1.45312 14.9805 1.94531C14.7461 2.42578 14.4707 2.83594 14.1543 3.17578C13.8496 3.53906 13.4453 3.84375 12.9414 4.08984C12.4492 4.33594 11.957 4.47656 11.4648 4.51172C11.207 4.51172 11.0898 4.38867 11.1133 4.14258C11.1836 3.66211 11.3359 3.17578 11.5703 2.68359C11.8164 2.19141 12.1035 1.78125 12.4316 1.45312C12.748 1.13672 13.1465 0.855469 13.627 0.609375C14.1074 0.351562 14.5879 0.181641 15.0684 0.0996094Z"
        fill="lightgrey"
      ></path>
    </svg>
  );
};
